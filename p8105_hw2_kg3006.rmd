---
title: "p8105_hw2_kg3006"
author: "Kevin Guzman"
date: "2025-09-28"
output: github_document
---

## libraries loaded 
These are all the libraries for this homework assigment 
```{r}
library(tidyverse)
```

## Probelm 1 
Problem 1 uses the FiveThirtyEight data which we will need to upload the pols-month.csv, unempoloyment.csv, and snp.csv. Goal is to merge into a single dataframe using year and month as keys. 
###Cleaning pols-month.csv
#### Load the data
```{r}
pols_month <- 
  read_csv("./fivethirtyeight_datasets/pols-month.csv")
```
Has 9 variables, mon is date, others are all numeric. 

#### Separating Date into year, month, date 
Current structure is "YYYY-MM-DD", we will separate into year, month, day. 
Also will remove the day variable in this step
```{r}
pols_month <- 
  pols_month %>%
  separate(col = mon,
           into = c("year", "month", "day"),
           sep = "-") %>% 
  select(-day)
```

#### Changing month from numeric 
replacing variables in month from numeric value 1-12, to it's corresponding month. 
```{r}
pols_month <- 
  pols_month %>%
  mutate(month = case_when(
    month == "01" ~ "January",
    month == "02" ~ "February",
    month == "03" ~ "March",
    month == "04" ~ "April",
    month == "05" ~ "May",
    month == "06" ~ "June",
    month == "07" ~ "July",
    month == "08" ~ "August",
    month == "09" ~ "September",
    month == "10" ~ "October",
    month == "11" ~ "November",
    month == "12" ~ "December"
  ))
```

#### Create a "president" variable 
Creating a new variable "president" based on prez_gop if 1==gop, and prez_dem if 1=dem. and removing prez_dem and prez_gop.  
```{r}
pols_month <- 
  pols_month %>%
  mutate(president = case_when(
    prez_gop == 1 ~ "gop",
    prez_dem == 1 ~ "dem"
  )) %>%
  select(-prez_gop, -prez_dem)
```

### Cleaning snp.csv 
#### Load the data
```{r}
snp <- 
  read_csv("./fivethirtyeight_datasets/snp.csv")
```
There are two variables here. The first is the date which needs to be cleaned and go to the front, and the second is the close, which is the closing value fo the S&P 500 index. 

#### Separating Date into year, month, date
Current structure is "M/D/YY", we will seperate into year, month, day and remove day. Also making year come first then month
```{r}
snp <- 
  snp %>%
  separate(col = date,
           into = c("month", "day", "year"),
           sep = "/") %>%
  select(-day) %>% 
  select(year, month, everything()) 
```
##### Chaning month from numeric to month name
```{r}
snp <- 
  snp %>%
  mutate(month = case_when(
    month == "1" ~ "January",
    month == "2" ~ "February",
    month == "3" ~ "March",
    month == "4" ~ "April",
    month == "5" ~ "May",
    month == "6" ~ "June",
    month == "7" ~ "July",
    month == "8" ~ "August",
    month == "9" ~ "September",
    month == "10" ~ "October",
    month == "11" ~ "November",
    month == "12" ~ "December"
  ))
```



